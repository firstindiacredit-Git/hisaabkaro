"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[288],{6288:(t,e,o)=>{o.r(e),o.d(e,{default:()=>h});var a=o(9950),s=o(5298),r=o(6187),l=o(9246),i=o(5923),n=o(4414);s.t1.register(s.Bs,s.m_,s.s$);const d={labels:["Books","Clients"],datasets:[{data:[0,0],backgroundColor:["rgba(54, 162, 235, 0.8)","rgba(75, 192, 192, 0.8)"],borderColor:["rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)"],borderWidth:2,hoverOffset:4}]},c={responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:5,right:5,bottom:5,left:5}},plugins:{legend:{display:!0,position:"bottom",labels:{boxWidth:12,usePointStyle:!0,pointStyle:"circle",padding:20,font:{size:11,weight:"500"},color:"#6B7280"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, 0.95)",titleColor:"#1f2937",bodyColor:"#1f2937",padding:10,bodyFont:{size:11,weight:"400"},titleFont:{size:12,weight:"600"},displayColors:!0,boxWidth:10,boxHeight:10}}},h=()=>{const[t,e]=(0,a.useState)(d),[o,s]=(0,a.useState)(!0),h=(0,a.useRef)(!1);return(0,a.useEffect)((()=>{(async()=>{if(!h.current){h.current=!0;try{var t,o,a,r;const[s,i]=await Promise.all([l.A.get("https://hisaabkaro.com/api/v2/transactionBooks/getAll-books",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),l.A.get("https://hisaabkaro.com/api/v3/client/getAll-clients",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})]),n=(null===(t=s.data)||void 0===t||null===(o=t.books)||void 0===o?void 0:o.length)||0,c=(null===(a=i.data)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.length)||0;e({...d,datasets:[{...d.datasets[0],data:[n,c]}]})}catch(n){console.error("Error fetching data:",n),i.oR.error("Failed to load statistics")}finally{s(!1)}}})()}),[]),o?(0,n.jsx)("div",{className:"w-full h-[200px] sm:h-[300px] flex items-center justify-center",children:(0,n.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):(0,n.jsx)("div",{className:"w-full h-[200px] sm:h-[300px]",children:(0,n.jsx)(r.Fq,{data:t,options:c})})}}}]);